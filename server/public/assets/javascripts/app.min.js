/*! to_do_list 2015-10-12 */
var app=angular.module("toDoApp",[]);console.log("Client: Hello Epsilon, Happy Weekend"),app.controller("MainController",["$scope","$http",function(a,b){function c(){console.log("getting data from db"),b.get("toDo/getData").then(function(b){for(console.log("getData received: ",b),console.log("how many tasks: ",b.data.length),console.log(b.data),a.listArray[0]=[],a.listArray[1]=[],a.listArray[2]=[],i=0;i<b.data.length;i++){var c=b.data[i].priority,e=b.data[i].task,f=b.data[i]._id;d=[e,f],a.listArray[c].push(d)}})}a.listArray=[],a.listArray[0]=[],a.listArray[1]=[],a.listArray[2]=[];var d=[];a.priority=0,a.showNewItem=!1,a.showAddButton=!0,a.showEditItem=!1;var e="",f="";c(),a.addAnItem=function(){console.log("saw Add an Item button"),a.showNewItem=!0,a.showAddButton=!1},a.edit=function(b){console.log("saw edit button"),a.showAddButton=!1,a.showEditItem=!0,e=this,f=b,a.editListItem=a.listArray[f][e.$index][0]},a.doneEditing=function(){console.log("saw done editing button"),a.listArray[f][e.$index][0]=a.editListItem;var d={};console.log("initial jString: ",d),d.id=a.listArray[f][e.$index][1],console.log(a.listArray[f][e.$index][1]),d.task=a.editListItem,console.log(a.editListItem),console.log("info for update: ",d),b({method:"POST",url:"/toDo/update",data:d}).then(c()).then(c()),a.showEditItem=!1,a.showAddButton=!0},a["delete"]=function(d){console.log("saw delete0 button"),console.log("removing: ",this.item,"at index: ",this.$index),id=a.listArray[d][this.$index][1],console.log("id: ",id);var e={};e.id=id,b({method:"POST",url:"/toDo/delete",data:e}).then(c()).then(c())},a.doneAdding=function(){console.log("saw done adding button"),a.priority=parseInt(0+a.priority),a.listArray[a.priority].push(a.newListItem),a.showNewItem=!1,a.showAddButton=!0;var d={};d.priority=a.priority,d.task=a.newListItem;var e=JSON.stringify(d);console.log(e),b({method:"POST",url:"/toDo/add",data:d}).then(function(b){console.log("id: ",b.data),c(),a.newListItem=""})}}]);